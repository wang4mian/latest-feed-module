---
import Header from "../components/dashboard/Header.astro";
import Sidebar from "../components/dashboard/Sidebar.astro";

export interface Props {
  title: string;
  description?: string;
}

const { title, description = 'KUATO - AI驱动的智能情报分析平台' } = Astro.props;
---

<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="/kuato-logo.png" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    
    <!-- AOS Animation Styles -->
    <link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css" />
  </head>
  <body class="bg-gray-50 font-sans antialiased">
    <!-- Dashboard Layout -->
    <div class="flex h-screen">
      <!-- Sidebar -->
      <div class="hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0">
        <Sidebar />
      </div>

      <!-- Main content -->
      <div class="flex flex-1 flex-col lg:pl-64">
        <!-- Top header -->
        <Header />
        
        <!-- Main content area -->
        <main class="flex-1 overflow-y-auto p-6">
          <div class="mx-auto max-w-7xl">
            <slot />
          </div>
        </main>
      </div>
    </div>

    <!-- Scripts -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        console.log('✅ KUATO已加载');
        
        // Simple fade-in animation for dashboard cards
        const cards = document.querySelectorAll('.dashboard-card');
        cards.forEach((card, index) => {
          setTimeout(() => {
            card.style.opacity = '1';
            card.style.transform = 'translateY(0)';
          }, index * 100);
        });
      });
    </script>
  </body>
</html>

<style is:global>
  /* Dashboard specific styles */
  .dashboard-card {
    @apply bg-white rounded-lg shadow-sm border border-gray-200;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.5s ease, transform 0.5s ease;
  }
  
  .dashboard-card-header {
    @apply px-6 py-4 border-b border-gray-200;
  }
  
  .dashboard-card-body {
    @apply p-6;
  }
  
  .status-badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }
  
  .status-badge.high {
    @apply bg-green-100 text-green-800;
  }
  
  .status-badge.medium {
    @apply bg-yellow-100 text-yellow-800;
  }
  
  .status-badge.low {
    @apply bg-gray-100 text-gray-800;
  }
  
  .category-tag {
    @apply inline-flex items-center px-2 py-1 rounded text-xs font-medium;
  }
  
  .category-tag.equipment { @apply bg-purple-100 text-purple-800; }
  .category-tag.supply { @apply bg-orange-100 text-orange-800; }
  .category-tag.trends { @apply bg-teal-100 text-teal-800; }
  .category-tag.innovation { @apply bg-blue-100 text-blue-800; }
  .category-tag.business { @apply bg-pink-100 text-pink-800; }
</style>