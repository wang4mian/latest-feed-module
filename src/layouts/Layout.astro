---
export interface Props {
  title: string;
  description?: string;
}

const { title, description = '制造业情报系统 - 自动抓取、分析和管理制造业相关情报' } = Astro.props;
---

<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    
    <!-- UIKit CSS 基础 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.21.8/dist/css/uikit.min.css" />
    
    <!-- Franken UI 增强 -->
    <link rel="stylesheet" href="https://unpkg.com/franken-ui@1.1.0/dist/css/core.min.css" />
    
    <!-- UIKit JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.21.8/dist/js/uikit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.21.8/dist/js/uikit-icons.min.js"></script>
  </head>
  <body>
    <!-- 居中导航栏 -->
    <nav class="uk-navbar-container" uk-navbar>
      <div class="uk-container uk-container-large">
        <div class="uk-navbar-left">
          <a class="uk-navbar-item uk-logo" href="/">
            <span class="uk-text-bold">制造情报系统</span>
          </a>
        </div>
        
        <div class="uk-navbar-right">
          <ul class="uk-navbar-nav">
            <li><a href="/pool">文章池</a></li>
            <li><a href="/editor">编辑台</a></li>
            <li><a href="/sources">源管理</a></li>
            <li><a href="/thesituationroom">分析室</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- 主要内容区域 -->
    <main class="uk-section uk-section-small">
      <slot />
    </main>

    <!-- 简洁页脚 -->
    <footer class="uk-section uk-section-muted">
      <div class="uk-container">
        <div class="uk-text-center">
          <p class="uk-text-small uk-text-muted">
            制造业情报系统 © 2025 - 最后更新: <span id="last-updated"></span>
          </p>
        </div>
      </div>
    </footer>

    <script>
      // 显示最后更新时间
      document.getElementById('last-updated')!.textContent = new Date().toLocaleString('zh-CN');
      
      // 确保 UIKit 正确初始化
      document.addEventListener('DOMContentLoaded', function() {
        // 初始化 UIKit 组件
        if (typeof UIkit !== 'undefined') {
          console.log('✅ UIKit 已加载');
          
          // 初始化所有 UIKit 组件
          UIkit.util.ready(() => {
            console.log('✅ UIKit 初始化完成');
          });
        } else {
          console.error('❌ UIKit 未正确加载');
        }
      });
    </script>
  </body>
</html>

<style is:global>
  /* 只保留最基础的样式优化 */
  .status-high { 
    background: #dcfce7; 
    color: #166534; 
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 12px;
  }
  
  .status-medium { 
    background: #fef3c7; 
    color: #92400e; 
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 12px;
  }
  
  .status-low { 
    background: #f3f4f6; 
    color: #374151; 
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 12px;
  }
  
  .status-draft { 
    background: #dbeafe; 
    color: #1e40af; 
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 12px;
  }
  
  .category-tag {
    padding: 2px 6px;
    border-radius: 3px;
    font-size: 11px;
    font-weight: 500;
  }
  
  .category-equipment { background: #f3e8ff; color: #7c3aed; }
  .category-supply { background: #fed7aa; color: #ea580c; }
  .category-trends { background: #ccfbf1; color: #0f766e; }
  .category-innovation { background: #e0e7ff; color: #4338ca; }
  .category-business { background: #fce7f3; color: #be185d; }
</style>